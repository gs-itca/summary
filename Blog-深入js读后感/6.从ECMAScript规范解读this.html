
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>6.从ECMAScript规范解读this · Gitbook Use</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="姜博健">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-chapter-fold/chapter-fold.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-page-footer-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="7.执行上下文.html" />
    
    
    <link rel="prev" href="5.作用域链.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://blog.csdn.net/jbj6568839z" target="_blank" class="custom-link">CSDN</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="summary.html">
            
                <a href="summary.html">
            
                    
                    深入JavaScript
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="1.从原型到原型链.html">
            
                <a href="1.从原型到原型链.html">
            
                    
                    1.从原型到原型链
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="2.词法作用域和动态作用域.html">
            
                <a href="2.词法作用域和动态作用域.html">
            
                    
                    2.词法作用域和动态作用域
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="3.执行上下文栈.html">
            
                <a href="3.执行上下文栈.html">
            
                    
                    3.执行上下文栈
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="4.深入变量对象.html">
            
                <a href="4.深入变量对象.html">
            
                    
                    4.深入变量对象
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="5.作用域链.html">
            
                <a href="5.作用域链.html">
            
                    
                    5.作用域链
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2.6" data-path="6.从ECMAScript规范解读this.html">
            
                <a href="6.从ECMAScript规范解读this.html">
            
                    
                    6.从ECMAScript规范解读this
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="7.执行上下文.html">
            
                <a href="7.执行上下文.html">
            
                    
                    7.执行上下文
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="8.闭包的前世今生.html">
            
                <a href="8.闭包的前世今生.html">
            
                    
                    8.闭包的前世今生
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.9" data-path="9.基本类型和引用类型的值传递.html">
            
                <a href="9.基本类型和引用类型的值传递.html">
            
                    
                    9.基本类型和引用类型的值传递
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.10" data-path="10.call和apply模拟.html">
            
                <a href="10.call和apply模拟.html">
            
                    
                    10.call和apply模拟
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.11" data-path="11.bind的模拟与实现.html">
            
                <a href="11.bind的模拟与实现.html">
            
                    
                    11.bind的模拟与实现
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../Blog-专题js读后感/summary.html">
            
                <a href="../Blog-专题js读后感/summary.html">
            
                    
                    专题JavaScript
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../Blog-专题js读后感/1.数组去重问题.html">
            
                <a href="../Blog-专题js读后感/1.数组去重问题.html">
            
                    
                    1.从原型到原型链
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../Blog-专题js读后感/2.深浅拷贝.html">
            
                <a href="../Blog-专题js读后感/2.深浅拷贝.html">
            
                    
                    2.深浅拷贝
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../Blog-专题js读后感/3.节流问题.html">
            
                <a href="../Blog-专题js读后感/3.节流问题.html">
            
                    
                    3.节流
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../Blog-专题js读后感/4.防抖问题.html">
            
                <a href="../Blog-专题js读后感/4.防抖问题.html">
            
                    
                    4.防抖
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" >
            
                <span>
            
                    
                    待更新...
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../ES6/summary.html">
            
                <a href="../ES6/summary.html">
            
                    
                    深入ES6系列
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../ES6/basis/1.let和const命令.html">
            
                <a href="../ES6/basis/1.let和const命令.html">
            
                    
                    1.从原型到原型链
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../ES6/basis/2.变量的解构赋值.html">
            
                <a href="../ES6/basis/2.变量的解构赋值.html">
            
                    
                    2.深浅拷贝
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../ES6/basis/3.字符串的扩展.html">
            
                <a href="../ES6/basis/3.字符串的扩展.html">
            
                    
                    3.字符串的扩展
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../ES6/basis/4.函数的扩展.html">
            
                <a href="../ES6/basis/4.函数的扩展.html">
            
                    
                    4.函数的扩展
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../ES6/basis/5.扩展运算符.html">
            
                <a href="../ES6/basis/5.扩展运算符.html">
            
                    
                    5.扩展运算符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../ES6/basis/6.独一无二的Symbol">
            
                <span>
            
                    
                    6.独一无二的Symbol
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../ES6/basis/7.Promise浅谈">
            
                <span>
            
                    
                    7.Promise浅谈
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" >
            
                <span>
            
                    
                    待更新...
            
                </span>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../algorithms/algorithms.html">
            
                <a href="../algorithms/algorithms.html">
            
                    
                    算法与数据结构
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../algorithms/1.数组md">
            
                <span>
            
                    
                    1.数组
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../algorithms/2.链表.html">
            
                <a href="../algorithms/2.链表.html">
            
                    
                    2.链表
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../algorithms/3.Map和Set.html">
            
                <a href="../algorithms/3.Map和Set.html">
            
                    
                    3.Map和Set
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../unknowJs/summary.html">
            
                <a href="../unknowJs/summary.html">
            
                    
                    你不知道的JavaScript
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../unknowJs/mid/mid-1.html">
            
                <a href="../unknowJs/mid/mid-1.html">
            
                    
                    1.类型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../unknowJs/mid/mid-2.html">
            
                <a href="../unknowJs/mid/mid-2.html">
            
                    
                    2.值
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../unknowJs/mid/mid-3.html">
            
                <a href="../unknowJs/mid/mid-3.html">
            
                    
                    3.原生函数
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../Blog-Vue/summary.html">
            
                <a href="../Blog-Vue/summary.html">
            
                    
                    Vue基础篇
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../Regular/summary.html">
            
                <a href="../Regular/summary.html">
            
                    
                    正则系列
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../Regular/1.简介.html">
            
                <a href="../Regular/1.简介.html">
            
                    
                    1.简介
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../Regular/2.预发.md">
            
                <span>
            
                    
                    2.预发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../Regular/3.元字符概览.html">
            
                <a href="../Regular/3.元字符概览.html">
            
                    
                    3.元字符概览
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../Regular/番外1-全局g的小“缺陷”.html">
            
                <a href="../Regular/番外1-全局g的小“缺陷”.html">
            
                    
                    番外一.全局g的“缺陷”
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >6.从ECMAScript规范解读this</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="&#x8FD9;&#x4E00;&#x7BC7;&#x51B4;&#x7FBD;&#x5927;&#x5927;&#x89E3;&#x91CA;&#x7684;&#x89D2;&#x5EA6;&#x975E;&#x5E38;&#x5201;&#x94BB;&#xFF0C;&#x770B;&#x4E86;&#x4E00;&#x904D;&#x6CA1;&#x770B;&#x61C2;&#xFF0C;&#x7559;&#x7740;&#x7EE7;&#x7EED;&#x770B;">&#x8FD9;&#x4E00;&#x7BC7;&#x51B4;&#x7FBD;&#x5927;&#x5927;&#x89E3;&#x91CA;&#x7684;&#x89D2;&#x5EA6;&#x975E;&#x5E38;&#x201C;&#x5201;&#x94BB;&#x201D;&#xFF0C;&#x770B;&#x4E86;&#x4E00;&#x904D;&#x6CA1;&#x770B;&#x61C2;&#xFF0C;&#x7559;&#x7740;&#x7EE7;&#x7EED;&#x770B;</h1>
<h2 id="&#x524D;&#x8A00;">&#x524D;&#x8A00;</h2>
<p>&#x5728;&#x300A;JavaScript&#x6DF1;&#x5165;&#x4E4B;&#x6267;&#x884C;&#x4E0A;&#x4E0B;&#x6587;&#x6808;&#x300B;&#x4E2D;&#x8BB2;&#x5230;&#xFF0C;&#x5F53;JavaScript&#x4EE3;&#x7801;&#x6267;&#x884C;&#x4E00;&#x6BB5;&#x53EF;&#x6267;&#x884C;&#x4EE3;&#x7801;(executable code)&#x65F6;&#xFF0C;&#x4F1A;&#x521B;&#x5EFA;&#x5BF9;&#x5E94;&#x7684;&#x6267;&#x884C;&#x4E0A;&#x4E0B;&#x6587;(execution context)&#x3002;</p>
<p>&#x5BF9;&#x4E8E;&#x6BCF;&#x4E2A;&#x6267;&#x884C;&#x4E0A;&#x4E0B;&#x6587;&#xFF0C;&#x90FD;&#x6709;&#x4E09;&#x4E2A;&#x91CD;&#x8981;&#x5C5E;&#x6027;</p>
<ul>
<li>&#x53D8;&#x91CF;&#x5BF9;&#x8C61;(Variable object&#xFF0C;VO)</li>
<li>&#x4F5C;&#x7528;&#x57DF;&#x94FE;(Scope chain)</li>
<li>this</li>
</ul>
<p>&#x4ECA;&#x5929;&#x91CD;&#x70B9;&#x8BB2;&#x8BB2; this&#xFF0C;&#x7136;&#x800C;&#x4E0D;&#x597D;&#x8BB2;&#x3002;</p>
<p>&#x2026;&#x2026;</p>
<p>&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x8981;&#x4ECE; ECMASciript5 &#x89C4;&#x8303;&#x5F00;&#x59CB;&#x8BB2;&#x8D77;&#x3002;</p>
<p>&#x5148;&#x5949;&#x4E0A; ECMAScript 5.1 &#x89C4;&#x8303;&#x5730;&#x5740;&#xFF1A;</p>
<p>&#x82F1;&#x6587;&#x7248;&#xFF1A;<a href="http://es5.github.io/#x15.1" target="_blank">http://es5.github.io/#x15.1</a></p>
<p>&#x4E2D;&#x6587;&#x7248;&#xFF1A;<a href="http://yanhaijing.com/es5/#115" target="_blank">http://yanhaijing.com/es5/#115</a></p>
<p>&#x8BA9;&#x6211;&#x4EEC;&#x5F00;&#x59CB;&#x4E86;&#x89E3;&#x89C4;&#x8303;&#x5427;&#xFF01;</p>
<h2 id="types">Types</h2>
<p>&#x9996;&#x5148;&#x662F;&#x7B2C; 8 &#x7AE0; Types&#xFF1A;</p>
<blockquote>
<p>Types are further subclassified into ECMAScript language types and specification types.</p>
<p>An ECMAScript language type corresponds to values that are directly manipulated by an ECMAScript programmer using the ECMAScript language. The ECMAScript language types are Undefined, Null, Boolean, String, Number, and Object.</p>
<p>A specification type corresponds to meta-values that are used within algorithms to describe the semantics of ECMAScript language constructs and ECMAScript language types. The specification types are Reference, List, Completion, Property Descriptor, Property Identifier, Lexical Environment, and Environment Record.</p>
</blockquote>
<p>&#x6211;&#x4EEC;&#x7B80;&#x5355;&#x7684;&#x7FFB;&#x8BD1;&#x4E00;&#x4E0B;&#xFF1A;</p>
<p>ECMAScript &#x7684;&#x7C7B;&#x578B;&#x5206;&#x4E3A;&#x8BED;&#x8A00;&#x7C7B;&#x578B;&#x548C;&#x89C4;&#x8303;&#x7C7B;&#x578B;&#x3002;</p>
<p>ECMAScript &#x8BED;&#x8A00;&#x7C7B;&#x578B;&#x662F;&#x5F00;&#x53D1;&#x8005;&#x76F4;&#x63A5;&#x4F7F;&#x7528; ECMAScript &#x53EF;&#x4EE5;&#x64CD;&#x4F5C;&#x7684;&#x3002;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x5E38;&#x8BF4;&#x7684;Undefined, Null, Boolean, String, Number, &#x548C; Object&#x3002;</p>
<p>&#x800C;&#x89C4;&#x8303;&#x7C7B;&#x578B;&#x76F8;&#x5F53;&#x4E8E; meta-values&#xFF0C;&#x662F;&#x7528;&#x6765;&#x7528;&#x7B97;&#x6CD5;&#x63CF;&#x8FF0; ECMAScript &#x8BED;&#x8A00;&#x7ED3;&#x6784;&#x548C; ECMAScript &#x8BED;&#x8A00;&#x7C7B;&#x578B;&#x7684;&#x3002;&#x89C4;&#x8303;&#x7C7B;&#x578B;&#x5305;&#x62EC;&#xFF1A;Reference, List, Completion, Property Descriptor, Property Identifier, Lexical Environment, &#x548C; Environment Record&#x3002;</p>
<p>&#x6CA1;&#x61C2;&#xFF1F;&#x6CA1;&#x5173;&#x7CFB;&#xFF0C;&#x6211;&#x4EEC;&#x53EA;&#x8981;&#x77E5;&#x9053;&#x5728; ECMAScript &#x89C4;&#x8303;&#x4E2D;&#x8FD8;&#x6709;&#x4E00;&#x79CD;&#x53EA;&#x5B58;&#x5728;&#x4E8E;&#x89C4;&#x8303;&#x4E2D;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x5B83;&#x4EEC;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x7528;&#x6765;&#x63CF;&#x8FF0;&#x8BED;&#x8A00;&#x5E95;&#x5C42;&#x884C;&#x4E3A;&#x903B;&#x8F91;&#x3002;</p>
<p>&#x4ECA;&#x5929;&#x6211;&#x4EEC;&#x8981;&#x8BB2;&#x7684;&#x91CD;&#x70B9;&#x662F;&#x4FBF;&#x662F;&#x5176;&#x4E2D;&#x7684; Reference &#x7C7B;&#x578B;&#x3002;&#x5B83;&#x4E0E; this &#x7684;&#x6307;&#x5411;&#x6709;&#x7740;&#x5BC6;&#x5207;&#x7684;&#x5173;&#x8054;&#x3002;</p>
<h2 id="reference">Reference</h2>
<p>&#x90A3;&#x4EC0;&#x4E48;&#x53C8;&#x662F; Reference &#xFF1F;</p>
<p>&#x8BA9;&#x6211;&#x4EEC;&#x770B; 8.7 &#x7AE0; The Reference Specification Type&#xFF1A;</p>
<blockquote>
<p>The Reference type is used to explain the behaviour of such operators as delete, typeof, and the assignment operators.</p>
</blockquote>
<p>&#x6240;&#x4EE5; Reference &#x7C7B;&#x578B;&#x5C31;&#x662F;&#x7528;&#x6765;&#x89E3;&#x91CA;&#x8BF8;&#x5982; delete&#x3001;typeof &#x4EE5;&#x53CA;&#x8D4B;&#x503C;&#x7B49;&#x64CD;&#x4F5C;&#x884C;&#x4E3A;&#x7684;&#x3002;</p>
<p>&#x6284;&#x88AD;&#x5C24;&#x96E8;&#x6EAA;&#x5927;&#x5927;&#x7684;&#x8BDD;&#xFF0C;&#x5C31;&#x662F;&#xFF1A;</p>
<blockquote>
<p>&#x8FD9;&#x91CC;&#x7684; Reference &#x662F;&#x4E00;&#x4E2A; Specification Type&#xFF0C;&#x4E5F;&#x5C31;&#x662F; &#x201C;&#x53EA;&#x5B58;&#x5728;&#x4E8E;&#x89C4;&#x8303;&#x91CC;&#x7684;&#x62BD;&#x8C61;&#x7C7B;&#x578B;&#x201D;&#x3002;&#x5B83;&#x4EEC;&#x662F;&#x4E3A;&#x4E86;&#x66F4;&#x597D;&#x5730;&#x63CF;&#x8FF0;&#x8BED;&#x8A00;&#x7684;&#x5E95;&#x5C42;&#x884C;&#x4E3A;&#x903B;&#x8F91;&#x624D;&#x5B58;&#x5728;&#x7684;&#xFF0C;&#x4F46;&#x5E76;&#x4E0D;&#x5B58;&#x5728;&#x4E8E;&#x5B9E;&#x9645;&#x7684; js &#x4EE3;&#x7801;&#x4E2D;&#x3002;</p>
</blockquote>
<p>&#x518D;&#x770B;&#x63A5;&#x4E0B;&#x6765;&#x7684;&#x8FD9;&#x6BB5;&#x5177;&#x4F53;&#x4ECB;&#x7ECD; Reference &#x7684;&#x5185;&#x5BB9;&#xFF1A;</p>
<blockquote>
<p>A Reference is a resolved name binding.</p>
<p>A Reference consists of three components, the base value, the referenced name and the Boolean valued strict reference flag.</p>
<p>The base value is either undefined, an Object, a Boolean, a String, a Number, or an environment record (10.2.1).</p>
<p>A base value of undefined indicates that the reference could not be resolved to a binding. The referenced name is a String.</p>
</blockquote>
<p>&#x8FD9;&#x6BB5;&#x8BB2;&#x8FF0;&#x4E86; Reference &#x7684;&#x6784;&#x6210;&#xFF0C;&#x7531;&#x4E09;&#x4E2A;&#x7EC4;&#x6210;&#x90E8;&#x5206;&#xFF0C;&#x5206;&#x522B;&#x662F;&#xFF1A;</p>
<ul>
<li>base value</li>
<li>referenced name</li>
<li>strict reference</li>
</ul>
<p>&#x53EF;&#x662F;&#x8FD9;&#x4E9B;&#x5230;&#x5E95;&#x662F;&#x4EC0;&#x4E48;&#x5462;&#xFF1F;</p>
<p>&#x6211;&#x4EEC;&#x7B80;&#x5355;&#x7684;&#x7406;&#x89E3;&#x7684;&#x8BDD;&#xFF1A;</p>
<p>base value &#x5C31;&#x662F;&#x5C5E;&#x6027;&#x6240;&#x5728;&#x7684;&#x5BF9;&#x8C61;&#x6216;&#x8005;&#x5C31;&#x662F; EnvironmentRecord&#xFF0C;&#x5B83;&#x7684;&#x503C;&#x53EA;&#x53EF;&#x80FD;&#x662F; undefined, an Object, a Boolean, a String, a Number, or an environment record &#x5176;&#x4E2D;&#x7684;&#x4E00;&#x79CD;&#x3002;</p>
<p>referenced name &#x5C31;&#x662F;&#x5C5E;&#x6027;&#x7684;&#x540D;&#x79F0;&#x3002;</p>
<p>&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> foo = <span class="hljs-number">1</span>;

<span class="hljs-comment">// &#x5BF9;&#x5E94;&#x7684;Reference&#x662F;&#xFF1A;</span>
<span class="hljs-keyword">var</span> fooReference = {
    base: EnvironmentRecord,
    name: <span class="hljs-string">&apos;foo&apos;</span>,
    strict: <span class="hljs-literal">false</span>
};
</code></pre>
<p>&#x518D;&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> foo = {
    bar: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    }
};

foo.bar(); <span class="hljs-comment">// foo</span>

<span class="hljs-comment">// bar&#x5BF9;&#x5E94;&#x7684;Reference&#x662F;&#xFF1A;</span>
<span class="hljs-keyword">var</span> BarReference = {
    base: foo,
    propertyName: <span class="hljs-string">&apos;bar&apos;</span>,
    strict: <span class="hljs-literal">false</span>
};
</code></pre>
<p>&#x800C;&#x4E14;&#x89C4;&#x8303;&#x4E2D;&#x8FD8;&#x63D0;&#x4F9B;&#x4E86;&#x83B7;&#x53D6; Reference &#x7EC4;&#x6210;&#x90E8;&#x5206;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x6BD4;&#x5982; GetBase &#x548C; IsPropertyReference&#x3002;</p>
<p>&#x8FD9;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x7B80;&#x5355;&#x770B;&#x4E00;&#x770B;&#xFF1A;</p>
<p>1.GetBase</p>
<blockquote>
<p>GetBase(V). Returns the base value component of the reference V.</p>
</blockquote>
<p>&#x8FD4;&#x56DE; reference &#x7684; base value&#x3002;</p>
<p>2.IsPropertyReference</p>
<blockquote>
<p>IsPropertyReference(V). Returns true if either the base value is an object or HasPrimitiveBase(V) is true; otherwise returns false.</p>
</blockquote>
<p>&#x7B80;&#x5355;&#x7684;&#x7406;&#x89E3;&#xFF1A;&#x5982;&#x679C; base value &#x662F;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x5C31;&#x8FD4;&#x56DE;true&#x3002;</p>
<h2 id="getvalue">GetValue</h2>
<p>&#x9664;&#x6B64;&#x4E4B;&#x5916;&#xFF0C;&#x7D27;&#x63A5;&#x7740;&#x5728; 8.7.1 &#x7AE0;&#x89C4;&#x8303;&#x4E2D;&#x5C31;&#x8BB2;&#x4E86;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x4ECE; Reference &#x7C7B;&#x578B;&#x83B7;&#x53D6;&#x5BF9;&#x5E94;&#x503C;&#x7684;&#x65B9;&#x6CD5;&#xFF1A; GetValue&#x3002;</p>
<p>&#x7B80;&#x5355;&#x6A21;&#x62DF; GetValue &#x7684;&#x4F7F;&#x7528;&#xFF1A;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> foo = <span class="hljs-number">1</span>;

<span class="hljs-keyword">var</span> fooReference = {
    base: EnvironmentRecord,
    name: <span class="hljs-string">&apos;foo&apos;</span>,
    strict: <span class="hljs-literal">false</span>
};

GetValue(fooReference) <span class="hljs-comment">// 1;</span>
</code></pre>
<p>GetValue &#x8FD4;&#x56DE;&#x5BF9;&#x8C61;&#x5C5E;&#x6027;&#x771F;&#x6B63;&#x7684;&#x503C;&#xFF0C;&#x4F46;&#x662F;&#x8981;&#x6CE8;&#x610F;&#xFF1A;</p>
<p><strong>&#x8C03;&#x7528; GetValue&#xFF0C;&#x8FD4;&#x56DE;&#x7684;&#x5C06;&#x662F;&#x5177;&#x4F53;&#x7684;&#x503C;&#xFF0C;&#x800C;&#x4E0D;&#x518D;&#x662F;&#x4E00;&#x4E2A; Reference</strong></p>
<p>&#x8FD9;&#x4E2A;&#x5F88;&#x91CD;&#x8981;&#xFF0C;&#x8FD9;&#x4E2A;&#x5F88;&#x91CD;&#x8981;&#xFF0C;&#x8FD9;&#x4E2A;&#x5F88;&#x91CD;&#x8981;&#x3002;</p>
<h2 id="&#x5982;&#x4F55;&#x786E;&#x5B9A;this&#x7684;&#x503C;">&#x5982;&#x4F55;&#x786E;&#x5B9A;this&#x7684;&#x503C;</h2>
<p>&#x5173;&#x4E8E; Reference &#x8BB2;&#x4E86;&#x90A3;&#x4E48;&#x591A;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x8BB2; Reference &#x5462;&#xFF1F;&#x5230;&#x5E95; Reference &#x8DDF;&#x672C;&#x6587;&#x7684;&#x4E3B;&#x9898; this &#x6709;&#x54EA;&#x4E9B;&#x5173;&#x8054;&#x5462;&#xFF1F;&#x5982;&#x679C;&#x4F60;&#x80FD;&#x8010;&#x5FC3;&#x770B;&#x5B8C;&#x4E4B;&#x524D;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x4EE5;&#x4E0B;&#x5F00;&#x59CB;&#x8FDB;&#x5165;&#x9AD8;&#x80FD;&#x9636;&#x6BB5;&#xFF1A;</p>
<p>&#x770B;&#x89C4;&#x8303; 11.2.3 Function Calls&#xFF1A;</p>
<p>&#x8FD9;&#x91CC;&#x8BB2;&#x4E86;&#x5F53;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5982;&#x4F55;&#x786E;&#x5B9A; this &#x7684;&#x53D6;&#x503C;&#x3002;</p>
<p>&#x53EA;&#x770B;&#x7B2C;&#x4E00;&#x6B65;&#x3001;&#x7B2C;&#x516D;&#x6B65;&#x3001;&#x7B2C;&#x4E03;&#x6B65;&#xFF1A;</p>
<blockquote>
<p>1.Let <em>ref</em> be the result of evaluating MemberExpression.</p>
<p>6.If Type(<em>ref</em>) is Reference, then</p>
<pre><code>  a.If IsPropertyReference(ref) is true, then
</code></pre><pre><code>      i.Let thisValue be GetBase(ref).
</code></pre><pre><code>  b.Else, the base of ref is an Environment Record
</code></pre><pre><code>      i.Let thisValue be the result of calling the ImplicitThisValue concrete method of GetBase(ref).
</code></pre><p>7.Else, Type(<em>ref</em>) is not Reference.</p>
<pre><code>  a. Let thisValue be undefined.
</code></pre></blockquote>
<p>&#x8BA9;&#x6211;&#x4EEC;&#x63CF;&#x8FF0;&#x4E00;&#x4E0B;&#xFF1A;</p>
<p>1.&#x8BA1;&#x7B97; MemberExpression &#x7684;&#x7ED3;&#x679C;&#x8D4B;&#x503C;&#x7ED9; ref</p>
<p>2.&#x5224;&#x65AD; ref &#x662F;&#x4E0D;&#x662F;&#x4E00;&#x4E2A; Reference &#x7C7B;&#x578B;</p>
<pre><code>2.1 &#x5982;&#x679C; ref &#x662F; Reference&#xFF0C;&#x5E76;&#x4E14; IsPropertyReference(ref) &#x662F; true, &#x90A3;&#x4E48; this &#x7684;&#x503C;&#x4E3A; GetBase(ref)

2.2 &#x5982;&#x679C; ref &#x662F; Reference&#xFF0C;&#x5E76;&#x4E14; base value &#x503C;&#x662F; Environment Record, &#x90A3;&#x4E48;this&#x7684;&#x503C;&#x4E3A; ImplicitThisValue(ref)

2.3 &#x5982;&#x679C; ref &#x4E0D;&#x662F; Reference&#xFF0C;&#x90A3;&#x4E48; this &#x7684;&#x503C;&#x4E3A; undefined
</code></pre><h2 id="&#x5177;&#x4F53;&#x5206;&#x6790;">&#x5177;&#x4F53;&#x5206;&#x6790;</h2>
<p>&#x8BA9;&#x6211;&#x4EEC;&#x4E00;&#x6B65;&#x4E00;&#x6B65;&#x770B;&#xFF1A;</p>
<ol>
<li>&#x8BA1;&#x7B97; MemberExpression &#x7684;&#x7ED3;&#x679C;&#x8D4B;&#x503C;&#x7ED9; ref</li>
</ol>
<p>&#x4EC0;&#x4E48;&#x662F; MemberExpression&#xFF1F;&#x770B;&#x89C4;&#x8303; 11.2 Left-Hand-Side Expressions&#xFF1A;</p>
<p>MemberExpression :</p>
<ul>
<li>PrimaryExpression // &#x539F;&#x59CB;&#x8868;&#x8FBE;&#x5F0F; &#x53EF;&#x4EE5;&#x53C2;&#x89C1;&#x300A;JavaScript&#x6743;&#x5A01;&#x6307;&#x5357;&#x7B2C;&#x56DB;&#x7AE0;&#x300B;</li>
<li>FunctionExpression    // &#x51FD;&#x6570;&#x5B9A;&#x4E49;&#x8868;&#x8FBE;&#x5F0F;</li>
<li>MemberExpression [ Expression ] // &#x5C5E;&#x6027;&#x8BBF;&#x95EE;&#x8868;&#x8FBE;&#x5F0F;</li>
<li>MemberExpression . IdentifierName // &#x5C5E;&#x6027;&#x8BBF;&#x95EE;&#x8868;&#x8FBE;&#x5F0F;</li>
<li>new MemberExpression Arguments    // &#x5BF9;&#x8C61;&#x521B;&#x5EFA;&#x8868;&#x8FBE;&#x5F0F;</li>
</ul>
<p>&#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A;</p>
<pre><code class="lang-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span>)
}

foo(); <span class="hljs-comment">// MemberExpression &#x662F; foo</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span>)
    }
}

foo()(); <span class="hljs-comment">// MemberExpression &#x662F; foo()</span>

<span class="hljs-keyword">var</span> foo = {
    bar: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    }
}

foo.bar(); <span class="hljs-comment">// MemberExpression &#x662F; foo.bar</span>
</code></pre>
<p>&#x6240;&#x4EE5;&#x7B80;&#x5355;&#x7406;&#x89E3; MemberExpression &#x5176;&#x5B9E;&#x5C31;&#x662F;()&#x5DE6;&#x8FB9;&#x7684;&#x90E8;&#x5206;&#x3002;</p>
<p>2.&#x5224;&#x65AD; ref &#x662F;&#x4E0D;&#x662F;&#x4E00;&#x4E2A; Reference &#x7C7B;&#x578B;&#x3002;</p>
<p>&#x5173;&#x952E;&#x5C31;&#x5728;&#x4E8E;&#x770B;&#x89C4;&#x8303;&#x662F;&#x5982;&#x4F55;&#x5904;&#x7406;&#x5404;&#x79CD; MemberExpression&#xFF0C;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x662F;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;Reference&#x7C7B;&#x578B;&#x3002;</p>
<p>&#x4E3E;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> value = <span class="hljs-number">1</span>;

<span class="hljs-keyword">var</span> foo = {
  value: <span class="hljs-number">2</span>,
  bar: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.value;
  }
}

<span class="hljs-comment">//&#x793A;&#x4F8B;1</span>
<span class="hljs-built_in">console</span>.log(foo.bar());
<span class="hljs-comment">//&#x793A;&#x4F8B;2</span>
<span class="hljs-built_in">console</span>.log((foo.bar)());
<span class="hljs-comment">//&#x793A;&#x4F8B;3</span>
<span class="hljs-built_in">console</span>.log((foo.bar = foo.bar)());
<span class="hljs-comment">//&#x793A;&#x4F8B;4</span>
<span class="hljs-built_in">console</span>.log((<span class="hljs-literal">false</span> || foo.bar)());
<span class="hljs-comment">//&#x793A;&#x4F8B;5</span>
<span class="hljs-built_in">console</span>.log((foo.bar, foo.bar)());
</code></pre>
<h3 id="foobar">foo.bar()</h3>
<p>&#x5728;&#x793A;&#x4F8B; 1 &#x4E2D;&#xFF0C;MemberExpression &#x8BA1;&#x7B97;&#x7684;&#x7ED3;&#x679C;&#x662F; foo.bar&#xFF0C;&#x90A3;&#x4E48; foo.bar &#x662F;&#x4E0D;&#x662F;&#x4E00;&#x4E2A; Reference &#x5462;&#xFF1F;</p>
<p>&#x67E5;&#x770B;&#x89C4;&#x8303; 11.2.1 Property Accessors&#xFF0C;&#x8FD9;&#x91CC;&#x5C55;&#x793A;&#x4E86;&#x4E00;&#x4E2A;&#x8BA1;&#x7B97;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x4EC0;&#x4E48;&#x90FD;&#x4E0D;&#x7BA1;&#x4E86;&#xFF0C;&#x5C31;&#x770B;&#x6700;&#x540E;&#x4E00;&#x6B65;&#xFF1A;</p>
<blockquote>
<p>Return a value of type Reference whose base value is baseValue and whose referenced name is propertyNameString, and whose strict mode flag is strict.</p>
</blockquote>
<p>&#x6211;&#x4EEC;&#x5F97;&#x77E5;&#x8BE5;&#x8868;&#x8FBE;&#x5F0F;&#x8FD4;&#x56DE;&#x4E86;&#x4E00;&#x4E2A; Reference &#x7C7B;&#x578B;&#xFF01;</p>
<p>&#x6839;&#x636E;&#x4E4B;&#x524D;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x8BE5;&#x503C;&#x4E3A;&#xFF1A;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> Reference = {
  base: foo,
  name: <span class="hljs-string">&apos;bar&apos;</span>,
  strict: <span class="hljs-literal">false</span>
};
</code></pre>
<p>&#x63A5;&#x4E0B;&#x6765;&#x6309;&#x7167; 2.1 &#x7684;&#x5224;&#x65AD;&#x6D41;&#x7A0B;&#x8D70;&#xFF1A;</p>
<blockquote>
<p>2.1 &#x5982;&#x679C; ref &#x662F; Reference&#xFF0C;&#x5E76;&#x4E14; IsPropertyReference(ref) &#x662F; true, &#x90A3;&#x4E48; this &#x7684;&#x503C;&#x4E3A; GetBase(ref)</p>
</blockquote>
<p>&#x8BE5;&#x503C;&#x662F; Reference &#x7C7B;&#x578B;&#xFF0C;&#x90A3;&#x4E48; IsPropertyReference(ref) &#x7684;&#x7ED3;&#x679C;&#x662F;&#x591A;&#x5C11;&#x5462;&#xFF1F;</p>
<p>&#x524D;&#x9762;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x94FA;&#x57AB;&#x4E86; IsPropertyReference &#x65B9;&#x6CD5;&#xFF0C;&#x5982;&#x679C; base value &#x662F;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x7ED3;&#x679C;&#x8FD4;&#x56DE; true&#x3002;</p>
<p>base value &#x4E3A; foo&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x6240;&#x4EE5; IsPropertyReference(ref) &#x7ED3;&#x679C;&#x4E3A; true&#x3002;</p>
<p>&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x786E;&#x5B9A; this &#x7684;&#x503C;&#x4E86;&#xFF1A;</p>
<pre><code class="lang-js"><span class="hljs-keyword">this</span> = GetBase(ref)&#xFF0C;
</code></pre>
<p>GetBase &#x4E5F;&#x5DF2;&#x7ECF;&#x94FA;&#x57AB;&#x4E86;&#xFF0C;&#x83B7;&#x5F97; base value &#x503C;&#xFF0C;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;&#x5C31;&#x662F;foo&#xFF0C;&#x6240;&#x4EE5; this &#x7684;&#x503C;&#x5C31;&#x662F; foo &#xFF0C;&#x793A;&#x4F8B;1&#x7684;&#x7ED3;&#x679C;&#x5C31;&#x662F; 2&#xFF01;</p>
<p>&#x5509;&#x5440;&#x5988;&#x5440;&#xFF0C;&#x4E3A;&#x4E86;&#x8BC1;&#x660E; this &#x6307;&#x5411;foo&#xFF0C;&#x771F;&#x662F;&#x7D2F;&#x6B7B;&#x6211;&#x4E86;&#xFF01;&#x4F46;&#x662F;&#x77E5;&#x9053;&#x4E86;&#x539F;&#x7406;&#xFF0C;&#x5269;&#x4E0B;&#x7684;&#x5C31;&#x66F4;&#x5FEB;&#x4E86;&#x3002;</p>
<h3 id="foobar">(foo.bar)()</h3>
<p>&#x770B;&#x793A;&#x4F8B;2&#xFF1A;</p>
<pre><code class="lang-js"><span class="hljs-built_in">console</span>.log((foo.bar)());
</code></pre>
<p>foo.bar &#x88AB; () &#x5305;&#x4F4F;&#xFF0C;&#x67E5;&#x770B;&#x89C4;&#x8303; 11.1.6 The Grouping Operator</p>
<p>&#x76F4;&#x63A5;&#x770B;&#x7ED3;&#x679C;&#x90E8;&#x5206;&#xFF1A;</p>
<blockquote>
<p>Return the result of evaluating Expression. This may be of type Reference.</p>
<p>NOTE This algorithm does not apply GetValue to the result of evaluating Expression.</p>
</blockquote>
<p>&#x5B9E;&#x9645;&#x4E0A; () &#x5E76;&#x6CA1;&#x6709;&#x5BF9; MemberExpression &#x8FDB;&#x884C;&#x8BA1;&#x7B97;&#xFF0C;&#x6240;&#x4EE5;&#x5176;&#x5B9E;&#x8DDF;&#x793A;&#x4F8B; 1 &#x7684;&#x7ED3;&#x679C;&#x662F;&#x4E00;&#x6837;&#x7684;&#x3002;</p>
<h3 id="foobar--foobar">(foo.bar = foo.bar)()</h3>
<p>&#x770B;&#x793A;&#x4F8B;3&#xFF0C;&#x6709;&#x8D4B;&#x503C;&#x64CD;&#x4F5C;&#x7B26;&#xFF0C;&#x67E5;&#x770B;&#x89C4;&#x8303; 11.13.1 Simple Assignment ( = ):</p>
<p>&#x8BA1;&#x7B97;&#x7684;&#x7B2C;&#x4E09;&#x6B65;&#xFF1A;</p>
<blockquote>
<p>3.Let rval be GetValue(rref).</p>
</blockquote>
<p>&#x56E0;&#x4E3A;&#x4F7F;&#x7528;&#x4E86; GetValue&#xFF0C;&#x6240;&#x4EE5;&#x8FD4;&#x56DE;&#x7684;&#x503C;&#x4E0D;&#x662F; Reference &#x7C7B;&#x578B;&#xFF0C;</p>
<p>&#x6309;&#x7167;&#x4E4B;&#x524D;&#x8BB2;&#x7684;&#x5224;&#x65AD;&#x903B;&#x8F91;&#xFF1A;</p>
<blockquote>
<p>2.3 &#x5982;&#x679C; ref &#x4E0D;&#x662F;Reference&#xFF0C;&#x90A3;&#x4E48; this &#x7684;&#x503C;&#x4E3A; undefined</p>
</blockquote>
<p>this &#x4E3A; undefined&#xFF0C;&#x975E;&#x4E25;&#x683C;&#x6A21;&#x5F0F;&#x4E0B;&#xFF0C;this &#x7684;&#x503C;&#x4E3A; undefined &#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5176;&#x503C;&#x4F1A;&#x88AB;&#x9690;&#x5F0F;&#x8F6C;&#x6362;&#x4E3A;&#x5168;&#x5C40;&#x5BF9;&#x8C61;&#x3002;</p>
<h3 id="false--foobar">(false || foo.bar)()</h3>
<p>&#x770B;&#x793A;&#x4F8B;4&#xFF0C;&#x903B;&#x8F91;&#x4E0E;&#x7B97;&#x6CD5;&#xFF0C;&#x67E5;&#x770B;&#x89C4;&#x8303; 11.11 Binary Logical Operators&#xFF1A;</p>
<p>&#x8BA1;&#x7B97;&#x7B2C;&#x4E8C;&#x6B65;&#xFF1A;</p>
<blockquote>
<p>2.Let lval be GetValue(lref).</p>
</blockquote>
<p>&#x56E0;&#x4E3A;&#x4F7F;&#x7528;&#x4E86; GetValue&#xFF0C;&#x6240;&#x4EE5;&#x8FD4;&#x56DE;&#x7684;&#x4E0D;&#x662F; Reference &#x7C7B;&#x578B;&#xFF0C;this &#x4E3A; undefined</p>
<h3 id="foobar-foobar">(foo.bar, foo.bar)()</h3>
<p>&#x770B;&#x793A;&#x4F8B;5&#xFF0C;&#x9017;&#x53F7;&#x64CD;&#x4F5C;&#x7B26;&#xFF0C;&#x67E5;&#x770B;&#x89C4;&#x8303;11.14 Comma Operator ( , )</p>
<p>&#x8BA1;&#x7B97;&#x7B2C;&#x4E8C;&#x6B65;&#xFF1A;</p>
<blockquote>
<p>2.Call GetValue(lref).</p>
</blockquote>
<p>&#x56E0;&#x4E3A;&#x4F7F;&#x7528;&#x4E86; GetValue&#xFF0C;&#x6240;&#x4EE5;&#x8FD4;&#x56DE;&#x7684;&#x4E0D;&#x662F; Reference &#x7C7B;&#x578B;&#xFF0C;this &#x4E3A; undefined</p>
<h3 id="&#x63ED;&#x6653;&#x7ED3;&#x679C;">&#x63ED;&#x6653;&#x7ED3;&#x679C;</h3>
<p>&#x6240;&#x4EE5;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#x7684;&#x7ED3;&#x679C;&#x662F;&#xFF1A;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> value = <span class="hljs-number">1</span>;

<span class="hljs-keyword">var</span> foo = {
  value: <span class="hljs-number">2</span>,
  bar: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.value;
  }
}

<span class="hljs-comment">//&#x793A;&#x4F8B;1</span>
<span class="hljs-built_in">console</span>.log(foo.bar()); <span class="hljs-comment">// 2</span>
<span class="hljs-comment">//&#x793A;&#x4F8B;2</span>
<span class="hljs-built_in">console</span>.log((foo.bar)()); <span class="hljs-comment">// 2</span>
<span class="hljs-comment">//&#x793A;&#x4F8B;3</span>
<span class="hljs-built_in">console</span>.log((foo.bar = foo.bar)()); <span class="hljs-comment">// 1</span>
<span class="hljs-comment">//&#x793A;&#x4F8B;4</span>
<span class="hljs-built_in">console</span>.log((<span class="hljs-literal">false</span> || foo.bar)()); <span class="hljs-comment">// 1</span>
<span class="hljs-comment">//&#x793A;&#x4F8B;5</span>
<span class="hljs-built_in">console</span>.log((foo.bar, foo.bar)()); <span class="hljs-comment">// 1</span>
</code></pre>
<p>&#x6CE8;&#x610F;&#xFF1A;&#x4EE5;&#x4E0A;&#x662F;&#x5728;&#x975E;&#x4E25;&#x683C;&#x6A21;&#x5F0F;&#x4E0B;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x4E25;&#x683C;&#x6A21;&#x5F0F;&#x4E0B;&#x56E0;&#x4E3A; this &#x8FD4;&#x56DE; undefined&#xFF0C;&#x6240;&#x4EE5;&#x793A;&#x4F8B; 3 &#x4F1A;&#x62A5;&#x9519;&#x3002;</p>
<h3 id="&#x8865;&#x5145;">&#x8865;&#x5145;</h3>
<p>&#x6700;&#x6700;&#x540E;&#xFF0C;&#x5FD8;&#x8BB0;&#x4E86;&#x4E00;&#x4E2A;&#x6700;&#x6700;&#x666E;&#x901A;&#x7684;&#x60C5;&#x51B5;&#xFF1A;</p>
<pre><code class="lang-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foo</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span>)
}

foo();
</code></pre>
<p>MemberExpression &#x662F; foo&#xFF0C;&#x89E3;&#x6790;&#x6807;&#x8BC6;&#x7B26;&#xFF0C;&#x67E5;&#x770B;&#x89C4;&#x8303; 10.3.1 Identifier Resolution&#xFF0C;&#x4F1A;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A; Reference &#x7C7B;&#x578B;&#x7684;&#x503C;&#xFF1A;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> fooReference = {
    base: EnvironmentRecord,
    name: <span class="hljs-string">&apos;foo&apos;</span>,
    strict: <span class="hljs-literal">false</span>
};
</code></pre>
<p>&#x63A5;&#x4E0B;&#x6765;&#x8FDB;&#x884C;&#x5224;&#x65AD;&#xFF1A;</p>
<blockquote>
<p>2.1 &#x5982;&#x679C; ref &#x662F; Reference&#xFF0C;&#x5E76;&#x4E14; IsPropertyReference(ref) &#x662F; true, &#x90A3;&#x4E48; this &#x7684;&#x503C;&#x4E3A; GetBase(ref)</p>
</blockquote>
<p>&#x56E0;&#x4E3A; base value &#x662F; EnvironmentRecord&#xFF0C;&#x5E76;&#x4E0D;&#x662F;&#x4E00;&#x4E2A; Object &#x7C7B;&#x578B;&#xFF0C;&#x8FD8;&#x8BB0;&#x5F97;&#x524D;&#x9762;&#x8BB2;&#x8FC7;&#x7684; base value &#x7684;&#x53D6;&#x503C;&#x53EF;&#x80FD;&#x5417;&#xFF1F; &#x53EA;&#x53EF;&#x80FD;&#x662F; undefined, an Object, a Boolean, a String, a Number, &#x548C; an environment record &#x4E2D;&#x7684;&#x4E00;&#x79CD;&#x3002;</p>
<p>IsPropertyReference(ref) &#x7684;&#x7ED3;&#x679C;&#x4E3A; false&#xFF0C;&#x8FDB;&#x5165;&#x4E0B;&#x4E2A;&#x5224;&#x65AD;&#xFF1A;</p>
<blockquote>
<p>2.2 &#x5982;&#x679C; ref &#x662F; Reference&#xFF0C;&#x5E76;&#x4E14; base value &#x503C;&#x662F; Environment Record, &#x90A3;&#x4E48;this&#x7684;&#x503C;&#x4E3A; ImplicitThisValue(ref)</p>
</blockquote>
<p>base value &#x6B63;&#x662F; Environment Record&#xFF0C;&#x6240;&#x4EE5;&#x4F1A;&#x8C03;&#x7528; ImplicitThisValue(ref)</p>
<p>&#x67E5;&#x770B;&#x89C4;&#x8303; 10.2.1.1.6&#xFF0C;ImplicitThisValue &#x65B9;&#x6CD5;&#x7684;&#x4ECB;&#x7ECD;&#xFF1A;&#x8BE5;&#x51FD;&#x6570;&#x59CB;&#x7EC8;&#x8FD4;&#x56DE; undefined&#x3002;</p>
<p>&#x6240;&#x4EE5;&#x6700;&#x540E; this &#x7684;&#x503C;&#x5C31;&#x662F; undefined&#x3002;</p>
<h2 id="&#x591A;&#x8BF4;&#x4E00;&#x53E5;">&#x591A;&#x8BF4;&#x4E00;&#x53E5;</h2>
<p>&#x5C3D;&#x7BA1;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7B80;&#x5355;&#x7684;&#x7406;&#x89E3; this &#x4E3A;&#x8C03;&#x7528;&#x51FD;&#x6570;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#xFF0C;&#x5982;&#x4F55;&#x89E3;&#x91CA;&#x4E0B;&#x9762;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x5462;&#xFF1F;</p>
<pre><code class="lang-js"><span class="hljs-keyword">var</span> value = <span class="hljs-number">1</span>;

<span class="hljs-keyword">var</span> foo = {
  value: <span class="hljs-number">2</span>,
  bar: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.value;
  }
}
<span class="hljs-built_in">console</span>.log((<span class="hljs-literal">false</span> || foo.bar)()); <span class="hljs-comment">// 1</span>
</code></pre>
<p>&#x6B64;&#x5916;&#xFF0C;&#x53C8;&#x5982;&#x4F55;&#x786E;&#x5B9A;&#x8C03;&#x7528;&#x51FD;&#x6570;&#x7684;&#x5BF9;&#x8C61;&#x662F;&#x8C01;&#x5462;&#xFF1F;&#x5728;&#x5199;&#x6587;&#x7AE0;&#x4E4B;&#x521D;&#xFF0C;&#x6211;&#x5C31;&#x9762;&#x4E34;&#x7740;&#x8FD9;&#x4E9B;&#x95EE;&#x9898;&#xFF0C;&#x6700;&#x540E;&#x8FD8;&#x662F;&#x653E;&#x5F03;&#x4ECE;&#x591A;&#x4E2A;&#x60C5;&#x5F62;&#x4E0B;&#x7ED9;&#x5927;&#x5BB6;&#x8BB2;&#x89E3; this &#x6307;&#x5411;&#x7684;&#x601D;&#x8DEF;&#xFF0C;&#x800C;&#x662F;&#x8FFD;&#x6839;&#x6EAF;&#x6E90;&#x7684;&#x4ECE; ECMASciript &#x89C4;&#x8303;&#x8BB2;&#x89E3; this &#x7684;&#x6307;&#x5411;&#xFF0C;&#x5C3D;&#x7BA1;&#x4ECE;&#x8FD9;&#x4E2A;&#x89D2;&#x5EA6;&#x5199;&#x8D77;&#x6765;&#x548C;&#x8BFB;&#x8D77;&#x6765;&#x90FD;&#x6BD4;&#x8F83;&#x5403;&#x529B;&#xFF0C;&#x4F46;&#x662F;&#x4E00;&#x65E6;&#x591A;&#x8BFB;&#x51E0;&#x904D;&#xFF0C;&#x660E;&#x767D;&#x539F;&#x7406;&#xFF0C;&#x7EDD;&#x5BF9;&#x4F1A;&#x7ED9;&#x4F60;&#x4E00;&#x4E2A;&#x5168;&#x65B0;&#x7684;&#x89C6;&#x89D2;&#x770B;&#x5F85; this &#x3002;&#x800C;&#x4F60;&#x4E5F;&#x5C31;&#x80FD;&#x660E;&#x767D;&#xFF0C;&#x5C3D;&#x7BA1; foo() &#x548C; (foo.bar = foo.bar)() &#x6700;&#x540E;&#x7ED3;&#x679C;&#x90FD;&#x6307;&#x5411;&#x4E86; undefined&#xFF0C;&#x4F46;&#x662F;&#x4E24;&#x8005;&#x4ECE;&#x89C4;&#x8303;&#x7684;&#x89D2;&#x5EA6;&#x4E0A;&#x5374;&#x6709;&#x7740;&#x672C;&#x8D28;&#x7684;&#x533A;&#x522B;&#x3002;</p>
<p>&#x6B64;&#x7BC7;&#x8BB2;&#x89E3;&#x6267;&#x884C;&#x4E0A;&#x4E0B;&#x6587;&#x7684; this&#xFF0C;&#x5373;&#x4FBF;&#x4E0D;&#x662F;&#x5F88;&#x7406;&#x89E3;&#x6B64;&#x7BC7;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x4F9D;&#x7136;&#x4E0D;&#x5F71;&#x54CD;&#x5927;&#x5BB6;&#x4E86;&#x89E3;&#x6267;&#x884C;&#x4E0A;&#x4E0B;&#x6587;&#x8FD9;&#x4E2A;&#x4E3B;&#x9898;&#x4E0B;&#x5176;&#x4ED6;&#x7684;&#x5185;&#x5BB9;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x4F9D;&#x7136;&#x53EF;&#x4EE5;&#x5B89;&#x5FC3;&#x7684;&#x770B;&#x4E0B;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x3002;</p>
<h2 id="&#x4E0B;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;">&#x4E0B;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;</h2>
<p><a href="https://webbj97.github.io/summary/Blog-%E6%B7%B1%E5%85%A5js%E8%AF%BB%E5%90%8E%E6%84%9F/7.%E6%89%A7%E8%A1%8C%E4%B8%8A%E4%B8%8B%E6%96%87.html" target="_blank">&#x300A;JavaScript&#x6DF1;&#x5165;&#x4E4B;&#x6267;&#x884C;&#x4E0A;&#x4E0B;&#x6587;&#x300B;</a></p>
<footer class="page-footer-ex"> <span class="page-footer-ex-copyright"> &#xA9; All Rights Reserved </span> &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <span class="page-footer-ex-footer-update"> updated 2019-11-20 13:42:47 </span> </footer>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="5.作用域链.html" class="navigation navigation-prev " aria-label="Previous page: 5.作用域链">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="7.执行上下文.html" class="navigation navigation-next " aria-label="Next page: 7.执行上下文">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"6.从ECMAScript规范解读this","level":"1.2.6","depth":2,"next":{"title":"7.执行上下文","level":"1.2.7","depth":2,"path":"Blog-深入js读后感/7.执行上下文.md","ref":"Blog-深入js读后感/7.执行上下文.md","articles":[]},"previous":{"title":"5.作用域链","level":"1.2.5","depth":2,"path":"Blog-深入js读后感/5.作用域链.md","ref":"Blog-深入js读后感/5.作用域链.md","articles":[]},"dir":"ltr"},"config":{"plugins":["chapter-fold","page-footer-ex","code","copy-code-button","github","sharing-plus"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"chapter-fold":{},"github":{"url":"https://github.com/webbj97"},"page-footer-ex":{"copyright":"© All Rights Reserved","markdown":false,"update_format":"YYYY-MM-DD HH:mm:ss","update_label":"updated"},"search":{},"sharing-plus":{"qq":false,"all":["facebook","google","twitter","instapaper","linkedin","pocket","stumbleupon"],"douban":false,"facebook":true,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":false,"vk":false,"pocket":true,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"code":{"copyButtons":true},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"copy-code-button":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"姜博健","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Gitbook Use","links":{"sidebar":{"CSDN":"https://blog.csdn.net/jbj6568839z"}},"gitbook":"*"},"file":{"path":"Blog-深入js读后感/6.从ECMAScript规范解读this.md","mtime":"2019-11-20T05:42:47.870Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-03-03T07:02:21.601Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-chapter-fold/chapter-fold.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-copy-code-button/toggle.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing-plus/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

